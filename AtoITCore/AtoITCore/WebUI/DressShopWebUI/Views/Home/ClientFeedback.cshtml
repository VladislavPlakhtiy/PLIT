@model  Domain.Entityes.Reviews
@{
    ViewBag.Title = "Отзывы";
}
<style>
    #reviewStars-input input:checked ~ label, #reviewStars-input label, #reviewStars-input label:hover, #reviewStars-input label:hover ~ label {
        background: url('/Images/stars.png') no-repeat;
    }

    #reviewStars-input {
        /*fix floating problems*/
        overflow: hidden;
        *zoom: 1;
        /*end of fix floating problems*/
        position: relative;
        float: left;
    }

        #reviewStars-input input {
            filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0);
            opacity: 0;
            width: 23px;
            height: 21px;
            position: absolute;
            top: 0;
            z-index: 0;
        }

            #reviewStars-input input:checked ~ label {
                background-position: 0 -20px;
                height: 21px;
                width: 23px;
            }

        #reviewStars-input label {
            background-position: 0 0;
            height: 21px;
            width: 23px;
            float: right;
            cursor: pointer;
            margin-right: 10px;
            position: relative;
            z-index: 1;
        }

            #reviewStars-input label:hover, #reviewStars-input label:hover ~ label {
                background-position: 0 -20px;
                height: 21px;
                width: 23px;
            }

        #reviewStars-input #star-0 {
            left: 0px;
        }

        #reviewStars-input #star-1 {
            left: 33px;
        }

        #reviewStars-input #star-2 {
            left: 66px;
        }

        #reviewStars-input #star-3 {
            left: 99px;
        }

        #reviewStars-input #star-4 {
            left: 132px;
        }

        #reviewStars-input #star-5 {
            left: 165px;
        }
    /*----------------------------------------Ошибки валидации-------------------------------------*/
    .field-validation-error {
        color: #ff0000;
    }

    .field-validation-valid {
        display: none;
    }

    .input-validation-error {
        border: 1px solid #ff0000;
        background-color: #fee;
    }

    .validation-summary-error {
        font-weight: bold;
        color: #ff0000;
    }

    .validation-summary-valid {
        display: none;
    }
    /*----------------------------------------------------------------------------------*/
</style>
<br />
<br />
<br />
@foreach (var item in ViewBag.Review)
{ <div style="background-color: lightgray">

        <h4>
            @item.ClientName
        </h4>
        <h5>
            @item.DateFeedback.ToString("dd.MM.yyyy")
        </h5>
        <h4>
            @for (int a = 0; a < item.Rating; a++)
            {
                string title = "";
                if (item.Rating.Equals(5))
                {
                    title = "Великолепно!";
                }
                if (item.Rating.Equals(4))
                {
                    title = "Хорошо";
                }
                if (item.Rating.Equals(3))
                {
                    title = "Средне";
                }
                if (item.Rating.Equals(2))
                {
                    title = "так себе";
                }
                if (item.Rating.Equals(1))
                {
                    title = "Плохо!";
                }
                <img title="@title" src="~/Images/star.png" />
            }
        </h4>


        <h3 style="float: right">Отзыв</h3>
        <br />
        <br />
        <h5 style="float: right"> @item.ClientFeedback</h5>
        <br />
        <br />
        @if (item.Advantages != null)
        {
            <h3 style="float: right">Достоинства</h3>
            <br />
            <br />
            <h5 style="float: right">@item.Advantages</h5>
            <br />
            <br />
        }
        @if (item.LackOf != null)
        {
            <h3 style="float: right">Недостатки</h3>
            <br />
            <br />
            <h5 style="float: right">@item.LackOf</h5>
            <br />
        }
    </div>
    <br />
    <br />
}

<h4>Оцените наш продукт</h4>
@using (Html.BeginForm("Feedback", "Home", FormMethod.Post)) 
{
    <h3>Оставить отзыв</h3>
    <br/>
    <br/>
    //хелпер - генирирующий поле ввода данных, стили писал вручную
    @Html.EditorFor(x => x.ClientName, new {htmlAttributes = new {style = "margin: 0px; width: 500px; height: 20px;", placeholder = "Введите ваше имя"}})
    @Html.ValidationMessageFor(x => x.ClientName)
    <br/>
    <br/>
    @Html.EditorFor(x => x.Email, new {htmlAttributes = new {style = "margin: 0px; width: 500px; height: 20px;", placeholder = "Введите ваш E-mail"}})
    @Html.ValidationMessageFor(x => x.Email)
    <br/>
    <br/>
    <div id="reviewStars-input">
        <input id="star-4" type="radio" value="5" name="Rating"/>
        <label title="Великолепно!" for="star-4"></label>

        <input id="star-3" type="radio" value="4" name="Rating"/>
        <label title="Хорошо" for="star-3"></label>

        <input id="star-2" type="radio" value="3" name="Rating"/>
        <label title="Средне" for="star-2"></label>

        <input id="star-1" type="radio" value="2" name="Rating"/>
        <label title="Так себе" for="star-1"></label>

        <input id="star-0" type="radio" value="1" name="Rating"/>
        <label title="Плохо!" for="star-0"></label>
    </div>
    <br/>
    <br/>
    @Html.EditorFor(x => x.ClientFeedback, new {htmlAttributes = new {style = "margin: 0px; width: 500px; height: 80px;", placeholder = "Оставьте ваш отзыв"}})
    @Html.ValidationMessageFor(x => x.ClientFeedback)
    <br/>
    <br/>
    @Html.EditorFor(x => x.Advantages, new {htmlAttributes = new {style = "margin: 0px; width: 500px; height: 40px;", placeholder = "Достоинства товара"}})
    @Html.ValidationMessageFor(x => x.Advantages)
    <br/>
    <br/>
    @Html.EditorFor(x => x.LackOf, new {htmlAttributes = new {style = "margin: 0px; width: 500px; height: 40px;", placeholder = "Недостатки товара"}})
    @Html.ValidationMessageFor(x => x.LackOf)
    <br/>
    <br/>
    <button id="form" class="btn" type="submit">Отправить отзыв</button>
    <br/>
    <br/>
    <br/>
    <br/>

}

