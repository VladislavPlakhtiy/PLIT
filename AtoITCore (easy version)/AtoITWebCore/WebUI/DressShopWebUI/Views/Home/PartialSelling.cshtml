@using MvcPaging
@model IPagedList<Domain.Entityes.Photo>


@foreach (var i in Model)
{
    if (i.Priority == true)
    {
        <div id="@("SellingDivId" + i.Product.ProductId)" onclick="@("funk"+i.Product.ProductId+"()")">
            <img id="@("ImgId" + i.PhotoId)" class="" title="@i.Product.Name" src="~/Images/@i.PhotoUrl" height="100" width="95" />
            <p><strong>Имя -</strong>  @i.Product.Name</p>
            <p><strong>Цена -</strong> @i.Product.Price</p>
            <div id="@("HiddenSellingDivId" + i.Product.ProductId)" style="display: none">
                @foreach (var a in Model)
                {
                    if (a.Product.ProductId == i.Product.ProductId)
                    {
                        <img id="@("HiddenImgId" + a.PhotoId)" class="" title="@a.Product.Name" src="~/Images/@a.PhotoUrl" height="80" width="75" />
                    }
                }
                <p><strong>Имя -</strong>  @i.Product.Name</p>
                <p><strong>Цена -</strong> @i.Product.Price</p>
                <p><strong>Описание - </strong> @i.Product.Description</p>
                <p><strong>Специальное предложение -</strong>  @i.Product.SpecOffer</p>
            </div>
        </div>
    }

    <script>
        function @("funk"+i.Product.ProductId)() {
            var display = document.getElementById("@("HiddenSellingDivId" + i.Product.ProductId)").style.display;
            if(display==='none'){
                document.getElementById("@("HiddenSellingDivId" + i.Product.ProductId)").style.display='block';
            }else{
                document.getElementById("@("HiddenSellingDivId" + i.Product.ProductId)").style.display='none';
            }

        }
    </script>
}

<div class="pager1">
    @Html.Raw(Ajax.Pager(
            new Options
            {
                PageSize = Model.PageSize,
                TotalItemCount = Model.TotalItemCount,
                CurrentPage = Model.PageNumber,
                ItemTexts = new ItemTexts { First = "", Next = "Вперед", Previous = "Назад", Page = "", Last = "" },
                ItemIcon = new ItemIcon { First = "icon-backward", Previous = "icon-chevron-left", Next = "icon-chevron-right", Last = "icon-forward" },
                TooltipTitles = new TooltipTitles { Last = "К последней странице", First = "К первой странице", Next = "Следующая страница", Previous = "Предидущая страница", Page = "страница - {0}." },
                Size = Size.normal,
                Alignment = Alignment.centered,
                IsShowControls = true,
                IsShowFirstLast = true,
                CssClass = ""
            },
            new AjaxOptions
            {
                UpdateTargetId = "grid-list",
                OnBegin = "beginPaging",
                OnSuccess = "successPaging",
                OnFailure = "failurePaging"
            }, new { controller = "Home", action = "Selling" }))

</div>
<script src="../../Scripts/bootstrap.min.js" type="text/javascript"></script>
